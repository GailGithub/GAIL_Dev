\documentclass[]{elsarticle}
\setlength{\marginparwidth}{0.5in}
\usepackage{amsmath,amssymb,amsthm,mathtools,tikz,graphicx}


\DeclareMathOperator{\lin}{lin}
\DeclareMathOperator{\up}{up}
\DeclareMathOperator{\lo}{lo}
\DeclareMathOperator{\fix}{non}
\DeclareMathOperator{\err}{err}

\newtheorem{theorem}{Theorem}
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{lem}{Lemma}
\theoremstyle{definition}
\newtheorem{algo}{Algorithm}
\newtheorem{condit}{Condition}
%\newtheorem{assump}{Assumption}
\theoremstyle{remark}
\newtheorem{rem}{Remark}


\begin{document}

\begin{frontmatter}
\title{Digital Option and Basket Option in GAIL - Guaranteed Automatic Integration Library}
\author{Tianci Zhu}
\author{Hartur Santi}
\address{Department of Applied Mathematics, Illinois Institute of Technology, Illinois, USA}

\begin{abstract}

Option is a common financial derivative, which has many different types. The digital option and basket option in this article are both traded as European style, meaning that contracts are only exercised on the maturity time.

Several approaches are proceeded in the past to price digital options and basket options, such as the Monte Carlo Method and Black-Scholes Model. This article applies the Monte Carlo Method to both of the options and uses Black-Scholes Model to test the accuracy of Monte Carlo Method.

Both option were added at GAIL - Guaranteed Automatic Integration Library, which is a suite of algorithms for integration problems in one and many dimensions, and whose answers are guaranteed to be correct.

\end{abstract}

\begin{keyword}
Digital option, Basket Option, Monte Carlo Method, Quasi-Monte Carlo Method, Black-Scholes Model, GAIL
\end{keyword}
\end{frontmatter}

\section{Introduction}

Solving problems is not an easy task, especially when there is no exact formula to solve the specific problem. In many practical problems, the mean $\mu=\mathbb{E}(Y)$ is required, where $Y$ is a random variable. The computation of $\mu$ typically corresponds to a sum or an integral. When it is too complicated or it takes too much time to calculate this sum or integral, Monte Carlo methods are applied.

Monte Carlo is a problem solving technique used to approximate the probability of certain outcomes by running it multiple times using independent random variables. Quasi-Monte Carlo methods use the random variables to be more even than independent samples. One important application of Quasi-Monte Carlo methods is pricing financial derivatives.


\subsection{Option}

An option, like a stock or bond, is a security. This type of investment is a contract that gives the buyer the right, but not the obligation, to buy or sell an asset at a specific price on a certain date.

There are two different types of options, calls and puts:
\begin{itemize}
\item A call gives the holder the right to buy an asset at a certain price 
within a specific period of time. Buyers of calls hope that the stock 
will increase substantially before the option expires.
\item A put gives the holder the right to sell an asset at a certain price 
within a specific period of time. Buyers of puts hope that the price of 
the stock will fall before the option expires.
\end{itemize}

\subsection{Digital Option}

In contrast to ordinary financial options that typically have a continuous spectrum of payoff, Digital Option is the type of option in which the payoff can take only two possible results: the Payoff itself
or nothing at all.

There are two types of digital options: the \textit{cash-or-nothing} option and the \textit{asset-or-nothing} option. The following characteristic
function describes it in math terms:

$$ \begin{array}{rcc}
\text{Cash-or-nothing} & \text{Call}\\
 & \mathbb{1}_{[K,\infty)}(S_{(T)})=
\begin{cases}
P, & S_{(T)} > K \\
0, & S_{(T)} \leq K\\
\end{cases}\\
 & \text{Put}\\
 & \mathbb{1}_{[0,K]}(S_{(T)})=
\begin{cases}
P, & K > S_{(T)} \\
0, & K \leq S_{(T)}\\
\end{cases} \\
\\
\\
\text{Asset-or-nothing} & \text{Call}\\
& \mathbb{1}_{[K,\infty)}(S_{(T)})=
\begin{cases}
S_{(T)}, & S_{(T)} > K \\
0, & S_{(T)} \leq K\\
\end{cases}\\
& \text{Put}\\
& \mathbb{1}_{[0,K]}(S_{(T)})=
\begin{cases}
S_{(T)}, & K > S_{(T)} \\
0, & K \leq S_{(T)}\\
\end{cases} \\
\end{array} $$

To better explain, in the case of a Cash-or-nothing Call Option, if the Stock Price at the maturity time $(S_{(T)})$ is above the Strike Price $(K)$, the payoff of the option is \textit{P}, certain amount of money.  It does not depend if $(S_{(T)})$ closes \$0.01 or \$100.00 above $(K)$, the  digital option is still worth the same amount of money, \textit{P}. If $S_{(T)}$  closes below the underlying $(K)$, then the option expires worthless, or nothing at all.


\subsection{Basket Option}
Basket option is a type of option  which contains a number of underlying assets. It is called Basket because is like putting many different asset in the same basket and the payoff is a result from the variations of all the assets in this basket. 

Basket option payoff is calculated as follows:

$\text{Call}:$
$$max(\sum_{i=1}^n {a_i*S_T^{(i)}} - K, 0)$$

$\text{Put}:$
$$max(K - \sum_{i=1}^n {a_i*S_T^{(i)}}, 0)$$

Where:

\begin{align*}
n & = \text{number of assets}\\ 
K & = \text{strike price}\\
\end{align*}
 
 
As there is no formula to calculate the exact price of Basket Options, this article will only talk about the Monte Carlo Method and Quasi-Monte Carlo Method on basket option.

\section{Pricing Options}
To price an option, four regular steps are needed:
\begin{itemize}
\item Add needed parameters.
\item Set values to parameters.
\item Add payoffs corresponding to the payoff formulas mentioned in the introduction part.
\item Add exact price calculation if exact formula exists.
\end{itemize}

\subsection{Digital Option}
For digital option there is an exact formula for pricing the options and it follows the Black-Scholes model.

The Black-Scholes model is used to calculate the theoretical price of European put and call options. While the original Black-Scholes model did not take into consideration the effects of dividends paid during the life of the option, the model can be adapted to account for dividends by determining the ex-dividend date value of the underlying stock.

The model makes certain assumptions, including:
\begin{itemize}
\item The options are European and can only be exercised at expiration.
\item No dividends are paid out during the life of the option.
\item Efficient markets (i.e., market movements cannot be predicted).
\item No commissions.
\item The risk-free rate and volatility of the underlying are known and constant.
\item Follows a log-normal distribution; that is, returns on the underlying are normally distributed.
\end{itemize}

The following assumptions were used for pricing digital options:
\begin{itemize}
\item Even there is a variable for dividend rate, it was considered as zero.
\item Efficient markets using the Geometric Brownian Motion.
\end{itemize}

$$\begin{array}{rcc}
& \text{Call}  & \text{Put} \\
\text{Cash-or-nothing} & P.e^{-rT}\Phi(d_2) & P.e^{-rT}\Phi(-d_2) \\
\text{Asset-or-nothing} & S_0.e^{-qT}\Phi(d_1) & S_0.e^{-qT}\Phi(-d_1)
\end{array}$$

Where:

\begin{align*}
\Phi(x) & =\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{x}e^{-\frac{1}{2}z^2} \, 
{\rm
d}z \\
\Phi(x) & = \text{Cumulative Distribution Function of the Normal 
Distribution} \\ 
d_1 &=\frac{\ln \Bigl(\frac{S_0}{K} \Bigr)+(r-q+\sigma^2/2)T}
{\sigma\sqrt{T}} \\
d_2 &=d_1-\sigma\sqrt{T} \\
S_0 & = \text{initial stock price} \\
K & = \text{strike price}\\
T & = \text{maturity time}\\
q & = \text{dividend rate}\\
r & = \text{risk-free interest rate}\\
\sigma & = \text{volatility}\\
P & = \text{Payoff}\\
\end{align*}

For Digital Options, lines of codes were added to the file called \textit{optPayoff.m} in GAIL repository. 

Changes that were made into \textit{optPayoff.m} in order to add Digital Options:
\begin{itemize}
\item In lines 41 and 48, three parameters were added: \textit{digitalPay}, \textit{digitalcash} and \textit{digitalasset}. These variables introduce the Payoff and the Type of Digital Option in the file.
\item From line 105 to 108, the properties of the payoff object were set.
\item Added payoffs corresponding to the payoff formulas mentioned in the introduction part from lines 131 to 168.
\item Added exact price calculation in lines 323 until 341 and the function to exact price from lines 372 to 380.
\item The last change was in lines 417 and 418 in the propList function.
\end{itemize}

\subsection{Basket Option}
To calculate the option price of basket option, some properties are added to MATLAB files:
\begin{description}
\item[nAsset]--- Number of assets in the option
\item[corrMat]--- Correlation Matrix of assets in the option
\item[basketWeight]--- Asset weights in the option 
\end{description}

As shown in the introduction part, the payoff of a basket option is calculated using the weighted stock prices of assets in the option, then the approximate price of the basket option is generated using Monte Carlo Method.

\section{Testing}
\subsection{Digital Option}
Since there is formulas for exact price in Digital Option, the testing file called \textit{DigitalOptionTest.m} uses the exact price as reference for the price, and prices the option using Quasi-Monte Carlo method with the \textit{'Sobol'} function. The goal for the testing file is to compare the two values and assert if the error between then is bigger or smaller than the tolerance. 

Four different values for Payoff were tested, as well as four different values for Strike Price, Interest Rate and Volatility. At total, 256 different combinations are tested for \textit{Cash-or-nothing} and \textit{Asset-or-nothing}, both for Calls and Puts. Thus, 1024 combinations were tested and passed for Digital Option.


\subsection{Basket Option}
When the elements of correlation matrix are all ones, the assets in the basket option can be seen as the same asset, so the option price can be calculated as a European option, which is used as the testing method for basket options.

To get the size of samples larger, nested for loops are used in the test file. Both Monte Carlo Method and Quasi-Monte Carlo Method are tested in the file. The test takes about 50 seconds to run and it tests 162 different options for Monte Carlo Method and Quasi-Monte Carlo Method respectively.

\section*{Reference}
"Binary Option." Wikipedia. Accessed June 5, 2015.

"What Are Binary Options?" Binary Options. Accessed June 16, 2015.

"Options Basics: What Are Options? | Investopedia." Investopedia. December 2, 2003. Accessed June 22, 2015.

"Online Option Pricer." Options Pricer. Web. 22 June 2015.

"Basket Option Definition | Investopedia." Investopedia. 19 Nov. 2003. Web. 22 June 2015.

Hickernell, Fred. "Monte Carlo Methods for Finance: The Problem." Keynote Speech, First Day of Summer Research on Monte Carlo Methods for Finance, Chicago, May 18, 2015.

\end{document}

